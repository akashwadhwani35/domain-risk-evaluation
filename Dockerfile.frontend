FROM node:20-alpine
WORKDIR /app
COPY frontend/package.json frontend/package-lock.json* ./
RUN npm install
COPY frontend ./frontend
WORKDIR /app/frontend
RUN npm run build
EXPOSE 1000
ENV VITE_API_BASE=http://backend:2000/api
CMD ["npm", "run", "dev", "--", "--host", "0.0.0.0", "--port", "1000"]
